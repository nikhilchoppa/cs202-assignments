# Compiler Optimization using Machine Learning

## Introduction
In modern compiler optimization, the register allocation process is crucial for efficient utilization of a processor's resources. Traditional register allocation techniques, such as graph coloring, have been effective in optimizing performance. However, with the advent of machine learning, new possibilities for optimization have emerged. In this project, we explore the application of machine learning to compare and optimize compiler performance by implementing a linear scan register allocation method alongside the traditional graph coloring method.

## Methodology
The project consists of three main components:

1. `compiler.py`: A compiler that supports both graph coloring and linear scan register allocation methods.
2. `generate_dataset.py`: A script to generate a dataset containing the execution times of different input programs compiled with both graph coloring and linear scan methods.
3. `RandomForestRegressor.ipynb`: A Jupyter notebook that trains a RandomForestRegressor model to predict and compare the performance of graph coloring and linear scan register allocation methods.

## Steps to Run this project

1. **Generate a dataset**: Execute the `generate_dataset.py` script to generate a dataset containing the execution times of different input programs compiled with both graph coloring and linear scan methods. This dataset will be saved as a CSV file named dataset.csv.

2. **Analyze the performance**: Open and run the `RandomForestRegressor.ipynb` Jupyter notebook to train and evaluate RandomForestRegressor models, which will analyze the performance of the linear scan and graph coloring register allocation methods. The notebook will also visualize the results, allowing you to compare the efficiency of the two methods.

## compiler.py
`compiler.py` is a Python script that simulates a compiler with support for both graph coloring and linear scan register allocation methods. It takes as input a Python program and compiles it using either the graph coloring or linear scan method, based on a specified parameter. The script measures the execution time for each method and returns the result, allowing us to compare the performance of the two register allocation techniques.

## generate_dataset.py
`generate_dataset.py` is a Python script responsible for generating a dataset containing the execution times of various input programs compiled with both graph coloring and linear scan methods. The script iterates over a list of input Python programs and compiles them using compiler.py. The execution times of both methods are recorded, and the resulting dataset is saved as a CSV file named dataset.csv.

## RandomForestRegressor.ipynb
`RandomForestRegressor.ipynb` is a Jupyter notebook that trains and evaluates a RandomForestRegressor model to predict and compare the performance of graph coloring and linear scan register allocation methods. The notebook loads the dataset generated by generate_dataset.py, preprocesses it, splits it into training and testing sets, and trains a RandomForestRegressor model for both graph coloring and linear scan methods. It then evaluates the performance of the models using metrics such as mean absolute error, mean squared error, and R-squared. Finally, the results are visualized in a scatter plot comparing the true and predicted execution times for both methods.

## Results and Discussion
Using the dataset generated by generate_dataset.py, we trained and evaluated two RandomForestRegressor models, one for each register allocation method. The models achieved high accuracy in predicting the execution times for both methods. The visualization of the results showed that the linear scan method generally outperforms the graph coloring method in terms of execution time, indicating that linear scan register allocation could be a more efficient technique for optimizing compiler performance.

The results of this project suggest that machine learning can be effectively used to compare and optimize register allocation methods in compiler optimization. By employing machine learning techniques, we can further improve the performance of compilers and enable more efficient execution of programs on modern processors.

## Conclusion
In this project, we have demonstrated the application of machine learning to compare and optimize compiler performance by implementing a linear scan register allocation method alongside the traditional graph coloring method. We have shown that machine learning can be used to accurately predict and compare the performance of different register allocation techniques, providing valuable insights for compiler optimization. Our findings indicate that the linear scan method generally outperforms the graph coloring method, suggesting that linear scan register allocation could be a more efficient technique for optimizing compiler performance.